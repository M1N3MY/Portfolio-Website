<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="../style.css">
        <link rel="icon" type="image/png" href="images/favicon.png">
        <title>Sarah's Catalog</title>
    </head> 
    
    <style>
        body {
            background-color: #060409 !important;
        }

        .wrapper {
            background-color: #060409 !important;
        }
        
        .site-header, .top-nav-button {
            color: #f29910 !important;
        }

        .top-nav-button:hover {
            color: rgb(255, 115, 0) !important;
        }

        .sidebar-border, .content-border {
            border: 5px solid #0f0b08 !important;
            background-image: url("https://cdn.esahubble.org/archives/images/thumb700x/heic0611b.jpg") !important;
            background-size: cover;
            background-position: center;
        }

        .footer-text {
            color: #faf8e5;
        }
    </style>
    <body> 
        <!-- header: title and top nav bar -->
        <header>
            <h1 class="site-header">Sarah's Catalog</h1>  
            <!-- top nav bar -->
            <nav class="top-nav">
                <a href="../home.html" class="button top-nav-button">Home</a>
                <a href="projects.html" class="button top-nav-button">Projects</a>
                <a href="links.html" class="button top-nav-button">Links</a>
            </nav>  
        </header>


        <!-- wraps the main container -->
        <div class="wrapper"> 
            <!-- main container: left sidebar, middle, right sidebar --> 
            <div class="main-container">


                <!-- left sidebar -->
                <nav class="sidebar">
                    <div class="sidebar-border">
                        <section class="left-sidebar">
                            <div class="nav-images">
                                <a href="../pages/gallery.html" class="button side-nav-button"><img src="../images/gallery.png"></a>
                            </div>
                        </section>
                    </div>

                    <div class="sidebar-border">
                        <section class="left-sidebar">
                            <div class="nav-doors">
                                <a href="../pages/bedroom.html" class="button side-nav-button"><img src="../images/red-door.png"></a>
                                <a href="../pages/door.html" class="button side-nav-button"><img src="../images/blue-door.png"></a>
                            </div>
                        </section>
                    </div>
                </nav>


                <!-- middle: main content -->
                <main class="middle">
                    <!-- disclaimer -->
                    <div class="content-border">
                        <section class="content text p">
                            <p>Disclaimer: I am not an expert. The following information is based on my experience and understanding. Research was done beforehand to make sure I'm not getting things wrong.</p>
                        </section>
                    </div>

                    <div class="content-border">
                        <section class="content text p">
                            <h3 class="content-header">Overview</h3>
                            <ul class="list">
                                <li>192.168.0.0/24 → home network subnet</li>
                                <li>10.8.8.1/32 → Wireguard server IP</li>
                                <li>Pi-hole → DNS + DHCP server</li>
                                <li>Wireguard → split tunneling</li>
                                <li class="indent">Allowed IPs: 192.168.0.0/24 (subnet) + 10.8.8.x (specific peer's wireguard ip)</li>
                            </ul>
                        </section>
                    </div>

                    <!-- pi-hole -->
                    <div class="content-border">
                        <section class="content text p">
                            <h3 class="content-header">Pi-hole → DNS + DHCP</h3>
                            <ul class="list">
                                <li>Pi-hole is a DNS sinkhole. It resolves, or hands out the IP addresses of whitelisted domains.
                                <li class="indent"> Meanwhile, blocked domains are sunk by routing them to a non-routable IP address (e.g. 0.0.0.0).</li>
                                <li>In my case, I use several blocklists which list out specific domains to block.  
                                <li class="indent">The blocklists I used are HaGeZi's Light , Adguard DNS Filter, Oisd (Big), someonewhocares.org (Dan Pollock).</li>
                                <li>Pi-hole also acts as my DHCP server for all of my devices except for my servers, which rely on my router.</li>
                                <li>It also resolves all of my .home domains to 192.168.0.3, or my Ubuntu server.</li>
                            </ul>
                        </section>
                    </div>

                    <!-- DHCP -->
                    <div class="content-border">
                        <section class="content text p">
                            <h3 class="content-header">DHCP</h3>
                            <ul class="list">
                                <li>Setup of DHCP on my network:</li>
                                <li class="indent">Router: 192.168.0.2 to 192.168.0.3 → servers.</li>
                                <li class="indent">Pi-hole: 192.168.0.100 to 192.168.0.254 → rest of devices.</li>
                                <li>Both of my servers are statically configured within their netplan and the actual router settings, so their IP should never change.</li>
                            </ul>
                        </section>
                    </div>

                    <!-- WireGuard -->
                    <div class="content-border">
                        <section class="content text p">
                            <h3 class="content-header">WireGuard</h3>
                            <ul class="list">
                                <li>The WireGuard peer IPs increment from the server IP (10.8.8.1). So for example, my phone is 10.8.8.2 and so on.</li>
                                <li>FreeDNS is my DDNS provider. I use a cron script to update my public IP for my domain because my router doesn't include FreeDNS.</li>
                                <li>I do split tunneling because all I need it to do is to be able to tap into my home network when I'm away from home.</li>
                                <li>WireGuard won't answer if somebody tries to scan the port.</li>
                                <li class="indent">Private (device) key must pair with the public (server) key.</li>
                                <li>For example, if I want to reach one of my .home domains from my phone...</li>
                                <li class="indent">Phone sends request through WG tunnel to Pi-hole, which resolves the .home domain to 192.168.0.3.</li>
                                <li class="indent">Pi-hole then sends this back through the tunnel to my device, who sends it to my Ubuntu server.</li>
                                <li class="indent">Then, the server sends to Wireguard, who encrypts data and sends it through tunnel back to my device.</li>
                                <li>Device → Pi-hole → (tunnel) → Device → Ubuntu server → Wireguard → (tunnel) → device.</li>
                            </ul>
                        </section>
                    </div>

                    <!-- vocabulary -->
                    <div class="content-border">
                        <section class="content text p">
                            <h3 class="content-header">Terms</h3>
                            <ul class="list">
                                <li>For anyone who isn't as tech savvy, or anyone else, here's a short recap of some of the things I discussed.</li>
                                <li>Subnet: a specific range of IPs on a network.</li>
                                <li>Domain host system (DNS): a system which allows IP addresses to be easily identifiable by pairing host names.</li>
                                <li>Pihole: a DNS sinkhole which resolves, or hands out IP addresses to a specific domain.</li>
                                <li>DNS sinkhole: DNS server which "sinks" specific domains by resolving them to non-routable IPs, or IPs that are a dead end.</li>
                                <li>Dynamic host configuration protocol (DHCP): automatically assigns IP addresses within a specific range to devices on a network.</li>
                                <li>Wireguard: a VPN service which solely uses UDP. Compared to let's say OpenVPN, it's newer.</li>
                                <li>Dynamic DNS (DDNS): service which updates the public IP for a specific domain</li>
                            </ul>
                        </section>
                    </div>

                    <!-- Resources/Links -->
                    <div class="content-border">
                        <section class="content text p">
                            <h3 class="content-header">Re(sources)</h3>
                            <a href="https://docs.pi-hole.net/">Pihole Documentation</a>
                            <a href="https://en.wikipedia.org/wiki/DNS_sinkhole">https://en.wikipedia.org/wiki/DNS_sinkhole</a>
                            <a href="https://docs.pi-hole.net/guides/vpn/wireguard/server/">For anyone interested, this is the WireGuard guide I followed</a>
                        </section>
                    </div>
                </main>


                <!-- right sidebar -->
                <nav class="sidebar scrollable">
                    <div class="sidebar-border">
                        <section class="right-sidebar">
                            <!--<h3 class="sidebar-header"></h3>*/-->
                            <img class="gif" src="https://momg.neocities.org/gifs/i-51402.gif" width="100px" height="150px"> 
                        </section>
                    </div>

                    <div class="sidebar-border">
                        <section class="right-sidebar">
                            <!--<h3 class="sidebar-header"></h3>*/-->
                            <img class="gif" src="https://momg.neocities.org/gifs/i-31910.gif" width="50px" height="50px">
                        </section>
                    </div>

                    <div class="sidebar-border">
                        <section class="right-sidebar">
                            <!--<h3 class="sidebar-header"></h3>*/-->
                            <img class="gif" src="https://momg.neocities.org/gifs/i-78883.gif" width="50px" height="50px">
                        </section>
                    </div>

                    <div class="sidebar-border">
                        <section class="right-sidebar">
                            <!--<h3 class="sidebar-header"></h3>*/-->
                            <img class="gif" src="https://momg.neocities.org/gifs/i-49714.gif" width="53" height="46">
                        </section>
                    </div>
                </nav>


            </div> <!-- end of main container-->


            <!-- footer -->
            <footer class="footer footer-text">
                <p>Thanks for visiting!</p>
                <img src="../images/cat-0491.gif" width="30" height="30"> 
            </footer>


        </div> <!-- end of wrapper-->
    </body>
</html>